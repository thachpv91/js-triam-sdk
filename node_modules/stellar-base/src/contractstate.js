import isString from 'lodash/isString';
import {Keypair} from './keypair';
import {StrKey} from "./strkey";

/**
 * Create a new Account object.
 *
 * `Account` represents a single account in Stellar network and its sequence number.
 * Account tracks the sequence number as it is used by {@link TransactionBuilder}.
 * See [Accounts](https://stellar.org/developers/learn/concepts/accounts.html) for more information about how
 * accounts work in Stellar.
 * @constructor
 * @param {string} contractId ID of the account (ex. `GB3KJPLFUYN5VL6R3GU3EGCGVCKFDSD7BEDX42HWG5BWFKB3KQGJJRMA`)
 * @param {string} state current sequence number of the account
 */
export class ContractState {
  constructor(contractId, state) {
    if (!StrKey.isValidContractKey(accountId)) {
      throw new Error('contractId is invalid');
    }
    if (!isString(state)) {
      throw new Error('state must be of type string');
    }
    this._contractId = contractId;
    this.state = state;
  }

  /**
   * Returns Stellar account ID, ex. `GB3KJPLFUYN5VL6R3GU3EGCGVCKFDSD7BEDX42HWG5BWFKB3KQGJJRMA`
   * @returns {string}
   */
  contractId() {
    return this._contractId;
  }

  /**
   * @returns {string}
   */
  state() {
    return this.state;
  }
}
